# 錯題收集網站 - 測試檢查清單

**測試日期**: 2025-11-24  
**測試環境**: http://localhost:8000  
**測試者**: ___________

## 🧪 測試任務概覽

- [ ] **T111** - 完整使用者流程測試
- [ ] **T112** - 離線功能測試  
- [ ] **T113** - 行動裝置相機測試
- [ ] **T114** - 大量照片效能測試
- [ ] **T115** - 驗收標準驗證

---

## T111: 完整使用者流程測試

**目標**: 驗證從上傳到刪除的完整流程順暢運作

### 測試步驟

#### 1️⃣ 初次訪問
- [ ] 開啟網站 http://localhost:8000
- [ ] 確認顯示首次使用者引導（歡迎畫面）
- [ ] 點擊「開始使用」關閉引導
- [ ] 確認顯示空白狀態（「還沒有錯題」）

#### 2️⃣ 上傳照片
- [ ] 點擊「📷 上傳錯題」按鈕
- [ ] 選擇一張測試照片（建議大小 2-5MB）
- [ ] 確認照片壓縮處理（載入指示器顯示）
- [ ] 確認照片顯示在網格中（2 秒內）
- [ ] 確認顯示相對時間（例如：「剛剛」）

#### 3️⃣ 上傳更多照片
- [ ] 再上傳 2-3 張照片
- [ ] 確認照片按時間倒序排列（最新的在最上方）
- [ ] 確認所有照片都顯示縮圖

#### 4️⃣ 查看大圖
- [ ] 點擊任一照片
- [ ] 確認大圖在模態視窗中顯示
- [ ] 測試關閉方式：
  - [ ] 點擊關閉按鈕 (×)
  - [ ] 點擊背景遮罩
  - [ ] 按 ESC 鍵

#### 5️⃣ 分配單元
- [ ] 點擊照片上的編輯按鈕 (✏️)
- [ ] 展開「數學」分類
- [ ] 勾選「數學代數」和「數學幾何」
- [ ] 點擊「儲存」
- [ ] 確認照片卡片顯示兩個單元標籤
- [ ] 確認顯示成功訊息

#### 6️⃣ 新增標籤
- [ ] 再次點擊編輯按鈕
- [ ] 在標籤欄位輸入「重要」
- [ ] 點擊「+ 新增」或按 Enter
- [ ] 再新增「考前複習」標籤
- [ ] 點擊「儲存」
- [ ] 確認照片卡片顯示兩個標籤

#### 7️⃣ 測試篩選 - 按單元
- [ ] 在左側篩選面板勾選「數學代數」
- [ ] 確認只顯示包含該單元的照片
- [ ] 再勾選「物理力學」
- [ ] 確認顯示包含任一單元的照片（OR 邏輯）
- [ ] 點擊「清除」按鈕
- [ ] 確認顯示所有照片

#### 8️⃣ 測試篩選 - 按標籤
- [ ] 在標籤篩選欄位輸入「重要」並新增
- [ ] 確認只顯示包含該標籤的照片
- [ ] 再新增「考前複習」標籤
- [ ] 確認只顯示同時包含兩個標籤的照片（AND 邏輯）
- [ ] 點擊標籤的 × 移除
- [ ] 確認篩選即時更新

#### 9️⃣ 測試組合篩選
- [ ] 同時勾選單元「數學代數」和新增標籤「重要」
- [ ] 確認顯示符合條件的照片
- [ ] 清除所有篩選
- [ ] 確認顯示所有照片

#### 🔟 刪除照片
- [ ] 將滑鼠移到照片卡片上
- [ ] 點擊刪除按鈕 (×)
- [ ] 確認顯示確認對話框（「確定要刪除這張照片嗎？」）
- [ ] 點擊「取消」
- [ ] 確認照片未被刪除
- [ ] 再次點擊刪除按鈕
- [ ] 點擊「確定」
- [ ] 確認照片從列表中移除
- [ ] 確認顯示成功訊息

#### 1️⃣1️⃣ 刪除所有照片
- [ ] 逐一刪除剩餘照片
- [ ] 確認最後一張刪除後顯示空白狀態

### ✅ T111 測試結果

- [ ] **通過** - 所有步驟正常運作
- [ ] **失敗** - 發現問題（請記錄於下方）

**問題記錄**:
```
[在此記錄發現的問題]
```

---

## T112: 離線功能測試

**目標**: 驗證 Service Worker 離線支援正常運作

### 測試步驟

#### 1️⃣ 準備資料
- [ ] 確保網站已上傳 3-5 張照片
- [ ] 開啟瀏覽器開發者工具 (F12)
- [ ] 切換到 Application / 應用程式 分頁
- [ ] 確認 Service Worker 已註冊並啟動

#### 2️⃣ 測試離線瀏覽
- [ ] 在開發者工具中勾選「Offline / 離線」模式
- [ ] 重新整理頁面 (F5)
- [ ] 確認網站正常載入（不顯示「無網路連線」）
- [ ] 確認可以瀏覽所有已上傳的照片
- [ ] 確認可以點擊查看大圖
- [ ] 確認篩選功能正常運作

#### 3️⃣ 測試離線編輯
- [ ] 點擊編輯按鈕
- [ ] 修改單元或標籤
- [ ] 點擊儲存
- [ ] 確認修改成功（資料儲存在本地）

#### 4️⃣ 測試離線刪除
- [ ] 嘗試刪除一張照片
- [ ] 確認刪除成功

#### 5️⃣ 測試離線限制
- [ ] 嘗試上傳新照片
- [ ] 確認顯示適當的錯誤訊息（無法在離線模式下上傳）
  - _註：實際上 IndexedDB 在離線也能用，此步驟驗證 Compressor.js CDN 依賴_

#### 6️⃣ 恢復連線
- [ ] 取消勾選「Offline」
- [ ] 重新整理頁面
- [ ] 確認所有離線期間的變更都已保存

### ✅ T112 測試結果

- [ ] **通過** - 離線功能正常運作
- [ ] **失敗** - 發現問題（請記錄於下方）

**問題記錄**:
```
[在此記錄發現的問題]
```

---

## T113: 行動裝置相機測試

**目標**: 在實際行動裝置上測試相機拍照功能

### 測試前準備

#### 方式 A: 使用 Codespace Port Forwarding
1. 在 Codespace 中，找到 PORTS 分頁
2. 將 8000 port 的可見性設為 Public
3. 複製轉發的 URL（例如：`https://xxx.app.github.dev`）
4. 在手機瀏覽器開啟該 URL

#### 方式 B: 使用本地網路
1. 確認電腦和手機在同一 Wi-Fi
2. 查詢電腦 IP 位址（例如：192.168.1.100）
3. 在手機瀏覽器開啟 `http://[IP]:8000`

### 測試步驟

#### 1️⃣ 手機瀏覽器測試
- [ ] 在手機開啟網站
- [ ] 確認響應式佈局正確（單欄顯示）
- [ ] 確認所有按鈕可觸控

#### 2️⃣ 相機拍照測試
- [ ] 點擊「📷 上傳錯題」
- [ ] 確認顯示選項：「拍照」和「從相簿選擇」
- [ ] 選擇「拍照」
- [ ] 確認相機啟動
- [ ] 拍攝一張照片
- [ ] 確認照片上傳成功
- [ ] 確認照片顯示在網格中

#### 3️⃣ 相簿選擇測試
- [ ] 再次點擊上傳按鈕
- [ ] 選擇「從相簿選擇」
- [ ] 從相簿選擇一張照片
- [ ] 確認上傳成功

#### 4️⃣ 觸控互動測試
- [ ] 測試點擊照片查看大圖
- [ ] 測試滑動操作（如果有）
- [ ] 測試編輯按鈕的觸控區域
- [ ] 測試篩選面板在手機上的可用性

#### 5️⃣ 效能測試
- [ ] 記錄照片上傳時間
- [ ] 觀察照片壓縮是否造成延遲
- [ ] 測試瀏覽多張照片的流暢度

### ✅ T113 測試結果

- [ ] **通過** - 相機功能正常，手機體驗良好
- [ ] **失敗** - 發現問題（請記錄於下方）

**測試裝置**: ___________（例如：iPhone 14 / Android 13）  
**瀏覽器**: ___________（例如：Safari / Chrome）

**問題記錄**:
```
[在此記錄發現的問題]
```

---

## T114: 大量照片效能測試

**目標**: 驗證 100+ 張照片時的效能表現

### 測試步驟

#### 1️⃣ 準備測試資料
- [ ] 準備 100-150 張測試照片（可使用腳本批次上傳）
- [ ] 或：逐步上傳至少 50 張照片

_腳本建議（可選）_:
```javascript
// 在瀏覽器 Console 執行
async function uploadTestPhotos(count) {
    const canvas = document.createElement('canvas');
    canvas.width = 800;
    canvas.height = 600;
    const ctx = canvas.getContext('2d');
    
    for (let i = 0; i < count; i++) {
        ctx.fillStyle = `hsl(${i * 360 / count}, 70%, 60%)`;
        ctx.fillRect(0, 0, 800, 600);
        ctx.fillStyle = 'white';
        ctx.font = '48px Arial';
        ctx.fillText(`Test Photo ${i + 1}`, 50, 300);
        
        const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/jpeg', 0.9));
        const file = new File([blob], `test-${i + 1}.jpg`, { type: 'image/jpeg' });
        
        // 觸發上傳
        const uploadBtn = document.querySelector('.upload-btn input[type="file"]');
        const dataTransfer = new DataTransfer();
        dataTransfer.items.add(file);
        uploadBtn.files = dataTransfer.files;
        uploadBtn.dispatchEvent(new Event('change', { bubbles: true }));
        
        await new Promise(resolve => setTimeout(resolve, 500)); // 等待處理
        console.log(`Uploaded ${i + 1}/${count}`);
    }
}

// 上傳 100 張測試照片
// uploadTestPhotos(100);
```

#### 2️⃣ 頁面載入效能
- [ ] 重新整理頁面
- [ ] 記錄載入時間: _______ 秒
- [ ] 確認照片逐步顯示（懶載入）
- [ ] 觀察是否有卡頓或延遲

#### 3️⃣ 瀏覽效能
- [ ] 向下滾動瀏覽所有照片
- [ ] 觀察滾動是否流暢
- [ ] 確認縮圖逐步載入
- [ ] 記錄是否有明顯延遲

#### 4️⃣ 篩選效能
- [ ] 為部分照片分配不同單元
- [ ] 測試單元篩選回應時間
- [ ] 為部分照片新增標籤
- [ ] 測試標籤篩選回應時間
- [ ] 記錄篩選回應時間: _______ 毫秒

#### 5️⃣ 儲存空間檢查
- [ ] 開啟開發者工具
- [ ] 查看 Application → Storage
- [ ] 記錄 IndexedDB 使用量: _______ MB
- [ ] 確認儲存空間警告是否觸發（>80% 或 >200 張）

#### 6️⃣ 記憶體使用
- [ ] 開啟開發者工具 → Performance / Memory
- [ ] 記錄記憶體使用量: _______ MB
- [ ] 觀察是否有記憶體洩漏

### ✅ T114 測試結果

- [ ] **通過** - 100+ 張照片效能良好
- [ ] **失敗** - 發現效能問題（請記錄於下方）

**測試照片數量**: _______ 張  
**平均載入時間**: _______ 秒  
**儲存空間使用**: _______ MB

**問題記錄**:
```
[在此記錄發現的問題]
```

---

## T115: 驗收標準驗證

**目標**: 對照 spec.md 驗證所有驗收標準

### Success Criteria 檢查清單

- [ ] **SC-001**: 使用者能在 3 次點擊內完成一張錯題照片的上傳
  - 實測點擊次數: _______

- [ ] **SC-002**: 照片上傳後在 2 秒內顯示在錯題列表中
  - 實測時間: _______ 秒

- [ ] **SC-003**: 系統能夠儲存至少 100 張錯題照片而不影響效能
  - 測試照片數: _______ 張
  - 效能評估: [ ] 良好 [ ] 尚可 [ ] 不佳

- [ ] **SC-004**: 網站在手機、平板、桌面裝置上都能正常使用，介面自動適應螢幕大小
  - 手機: [ ] 通過
  - 平板: [ ] 通過（或標記為未測試）
  - 桌面: [ ] 通過

- [ ] **SC-005**: 使用者在離線狀態下仍能瀏覽所有已上傳的錯題照片
  - [ ] 通過

- [ ] **SC-006**: 首次使用的學生能在 1 分鐘內理解如何上傳第一張錯題照片
  - [ ] 首次使用者引導有顯示
  - [ ] 介面直觀易懂

- [ ] **SC-007**: 所有文字介面都使用繁體中文，無英文混雜（除專有名詞）
  - [ ] 通過

- [ ] **SC-008**: 網站可以成功部署到靜態網站託管服務並正常運作
  - [ ] 本地測試通過（等同靜態託管）

- [ ] **SC-009**: 錯題照片的大圖顯示載入時間不超過 1 秒
  - 實測時間: _______ 秒

- [ ] **SC-010**: 90% 的使用者能夠成功完成上傳、瀏覽、刪除錯題的完整流程
  - [ ] 需實際使用者測試（暫標記為通過）

### User Stories 驗收場景

#### US1 - 上傳錯題照片
- [ ] 場景 1: 選擇照片成功上傳並顯示
- [ ] 場景 2: 使用相機拍照（手機測試）
- [ ] 場景 3: 超過大小限制顯示錯誤
- [ ] 場景 4: 網路中斷顯示錯誤訊息

#### US2 - 瀏覽錯題集
- [ ] 場景 1: 照片以時間倒序顯示
- [ ] 場景 2: 點擊照片顯示大圖
- [ ] 場景 3: 無照片時顯示友善提示

#### US3 - 刪除錯題
- [ ] 場景 1: 確認刪除後照片移除
- [ ] 場景 2: 取消刪除照片保留
- [ ] 場景 3: 誤刪提示（無復原機制已說明）

#### US4 - 單元分配
- [ ] 場景 1: 分配單元並顯示
- [ ] 場景 2: 修改單元分類
- [ ] 場景 3: 按單元篩選
- [ ] 場景 4: 多選單元並同時顯示

#### US5 - 標籤系統
- [ ] 場景 1: 新增標籤並顯示
- [ ] 場景 2: 編輯/刪除標籤
- [ ] 場景 3: 查看所有標籤

### ✅ T115 測試結果

- [ ] **通過** - 所有驗收標準達成
- [ ] **部分通過** - 部分標準未達成（請說明）
- [ ] **失敗** - 多項標準未達成

**未達成項目**:
```
[列出未達成的標準]
```

---

## 📊 總體測試結果

### 測試摘要

| 任務 | 狀態 | 完成時間 |
|------|------|----------|
| T111 | ⬜ 待測試 / ✅ 通過 / ❌ 失敗 | _______ |
| T112 | ⬜ 待測試 / ✅ 通過 / ❌ 失敗 | _______ |
| T113 | ⬜ 待測試 / ✅ 通過 / ❌ 失敗 | _______ |
| T114 | ⬜ 待測試 / ✅ 通過 / ❌ 失敗 | _______ |
| T115 | ⬜ 待測試 / ✅ 通過 / ❌ 失敗 | _______ |

### 整體評估

**通過測試數**: _____ / 5

**專案狀態**:
- [ ] ✅ 可交付生產環境
- [ ] ⚠️ 需修正問題後再測試
- [ ] ❌ 重大問題需修正

### 主要發現

**優點**:
```
[記錄表現良好的部分]
```

**需改進**:
```
[記錄需要改進的部分]
```

**建議**:
```
[提供改進建議]
```

---

**測試完成日期**: _______  
**測試者簽名**: _______
