# Feature Specification: 錯題收集網站

**Feature Branch**: `001-mistake-collection-site`  
**Created**: 2025-11-17  
**Status**: Draft  
**Input**: User description: "建立一個能夠上傳題目照片的錯題收集網站

需求說明：
- 使用者可以上傳題目照片
- 收集和管理錯題
- 以前端靜態網站為主（可部署到 GitHub Pages）
- 使用繁體中文
- 不要過度設計"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 上傳錯題照片 (Priority: P1)

學生在練習題目時做錯了，想要拍照記錄下來以便日後複習。學生打開錯題收集網站，點擊上傳按鈕，從裝置選擇題目照片或直接拍照，系統接受照片並顯示上傳成功的確認訊息。

**Why this priority**: 這是整個錯題收集系統的核心功能，沒有照片上傳就無法建立錯題集。是最基本的MVP功能。

**Independent Test**: 可以獨立測試－開啟網站，上傳一張照片，確認照片被成功接收並顯示在畫面上。即使沒有其他功能，這已經提供了基本的錯題收集價值。

**Acceptance Scenarios**:

1. **Given** 學生在網站首頁，**When** 點擊上傳按鈕並選擇一張照片，**Then** 照片成功上傳並顯示在錯題列表中
2. **Given** 學生使用手機瀏覽網站，**When** 點擊上傳按鈕並選擇「拍照」，**Then** 開啟相機讓學生即時拍攝題目
3. **Given** 學生選擇了一張照片，**When** 照片大小超過合理限制（如10MB），**Then** 系統顯示錯誤訊息要求選擇較小的照片
4. **Given** 學生正在上傳照片，**When** 網路連線中斷，**Then** 系統顯示上傳失敗訊息並保留照片讓學生可以重試

---

### User Story 2 - 瀏覽錯題集 (Priority: P2)

學生想要查看之前上傳的所有錯題。學生打開網站後，可以看到所有已上傳的題目照片以列表或網格形式呈現，最新上傳的題目顯示在最前面。

**Why this priority**: 收集錯題後的第二重要功能是能夠查看這些錯題。這讓系統從單純的上傳工具變成實用的複習工具。

**Independent Test**: 可以獨立測試－先上傳幾張照片（使用P1功能），然後確認能夠在主頁面看到所有照片以時間順序排列。

**Acceptance Scenarios**:

1. **Given** 學生已上傳10張錯題照片，**When** 開啟網站首頁，**Then** 看到10張照片以網格形式呈現，最新的在最上方
2. **Given** 學生正在瀏覽錯題列表，**When** 點擊任一照片，**Then** 照片以大圖方式顯示，方便仔細查看題目內容
3. **Given** 學生還沒有上傳任何錯題，**When** 開啟網站，**Then** 顯示友善的引導訊息鼓勵學生上傳第一張錯題

---

### User Story 3 - 刪除錯題 (Priority: P3)

學生發現某些題目已經完全掌握或不小心上傳了錯誤的照片，想要刪除特定的錯題。學生在錯題照片上點擊刪除按鈕，系統詢問確認後將照片從列表中移除。

**Why this priority**: 管理功能的基本需求。讓學生能夠維護錯題集的品質，但不影響核心的收集和瀏覽功能。

**Independent Test**: 可以獨立測試－上傳一張照片（P1），確認照片出現在列表中（P2），然後刪除該照片，確認它從列表中消失。

**Acceptance Scenarios**:

1. **Given** 學生正在瀏覽錯題列表，**When** 點擊某張照片的刪除按鈕並確認刪除，**Then** 該照片立即從列表中移除
2. **Given** 學生點擊了刪除按鈕，**When** 在確認對話框中選擇「取消」，**Then** 照片保留在列表中不被刪除
3. **Given** 學生誤刪了一張照片，**When** 嘗試復原，**Then** 系統顯示提示說明已刪除的照片無法復原（或提供簡單的復原機制）

---

### User Story 4 - 為錯題分配單元 (Priority: P4)

學生想要將錯題分類到不同的學科單元（例如：數學的代數、幾何等），方便系統化地組織和複習。學生可以為每張錯題選擇一個或多個所屬單元（從預設或自訂的單元列表中多選）。

**Why this priority**: 結構化的分類功能，提升錯題集的組織性，但不是必要的MVP功能。

**Independent Test**: 可以獨立測試－上傳照片後為其分配一個或多個單元，確認所有單元被保存並顯示在照片旁邊。

**Acceptance Scenarios**:

1. **Given** 學生上傳一張數學錯題，**When** 選擇單元「數學代數」並儲存，**Then** 該錯題顯示所屬單元
2. **Given** 學生想修改錯題的單元分類，**When** 重新選擇單元（可多選）並儲存，**Then** 單元分類更新
3. **Given** 學生瀏覽錯題列表，**When** 按單元篩選，**Then** 只顯示該單元下的錯題
4. **Given** 學生上傳一張跨領域題目，**When** 選擇多個單元（如「數學代數」和「物理力學」）並儲存，**Then** 該錯題同時顯示在兩個單元的分類下

---

### User Story 5 - 為錯題添加標籤 (Priority: P5)

學生想要為錯題加上自由形式的標籤註記，如「已理解」、「重要」、「考前複習」等，方便靈活標記和查找。學生可以為每張錯題添加多個標籤。

**Why this priority**: 靈活的標記功能，補充結構化單元分類，但優先級低於單元功能。

**Independent Test**: 可以獨立測試－上傳照片後為其添加標籤，確認標籤被保存並顯示在照片旁邊。

**Acceptance Scenarios**:

1. **Given** 學生查看某張錯題照片，**When** 點擊「新增標籤」輸入文字並儲存，**Then** 標籤顯示在照片下方
2. **Given** 學生想修改或刪除已有的標籤，**When** 編輯標籤並儲存，**Then** 標籤內容更新
3. **Given** 學生為照片添加了多個標籤，**When** 瀏覽錯題列表，**Then** 可以看到每張照片的所有標籤

---

### Edge Cases

- 當使用者選擇的檔案不是圖片格式（如PDF、文字檔）時，系統應顯示明確的錯誤訊息說明只接受圖片檔案
- 當使用者在離線狀態下開啟網站時，應該能夠看到之前上傳的照片（因為資料儲存在瀏覽器本地）
- 當使用者的瀏覽器儲存空間已滿時，上傳新照片應顯示空間不足的提示訊息
- 當使用者上傳的照片尺寸非常大（如高解析度照片）時，系統應在合理時間內完成處理（或進行壓縮）
- 當使用者在不同裝置（如手機和電腦）開啟網站時，由於使用本地儲存，兩邊的錯題集會是獨立的（除非未來加入同步功能）
- 當使用者清除瀏覽器資料時，所有錯題照片會被刪除（應在網站上提供警告說明）

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 系統必須允許使用者從裝置選擇圖片檔案進行上傳
- **FR-002**: 系統必須支援使用行動裝置相機即時拍攝照片上傳
- **FR-003**: 系統必須驗證上傳的檔案為圖片格式（如 JPG、PNG、WEBP）
- **FR-004**: 系統必須限制單一照片檔案大小上限（建議10MB）以確保合理的處理時間
- **FR-005**: 系統必須在上傳成功或失敗後提供明確的視覺回饋訊息
- **FR-006**: 系統必須將所有上傳的照片儲存在使用者的本地裝置上，確保離線存取能力
- **FR-007**: 系統必須以時間倒序顯示所有已上傳的錯題照片（最新的在最前面）
- **FR-008**: 系統必須允許使用者點擊照片以大圖方式查看
- **FR-009**: 系統必須提供刪除功能，讓使用者可以移除不需要的錯題照片
- **FR-010**: 系統必須在刪除操作前顯示確認對話框，避免誤刪
- **FR-011**: 系統必須在沒有任何錯題時顯示友善的空白狀態提示訊息
- **FR-012**: 系統必須使用繁體中文作為介面語言
- **FR-013**: 系統必須在離線狀態下仍能查看已上傳的錯題照片
- **FR-014**: 系統必須在瀏覽器儲存空間不足時提供明確的錯誤訊息
- **FR-015**: 系統必須允許使用者為每張錯題照片選擇一個或多個所屬單元（結構化分類，支援多選）
- **FR-016**: 系統必須提供預設的學科單元列表（如：數學代數、數學幾何、物理力學等），採用單層級扁平結構
- **FR-017**: 系統必須允許使用者自訂新的單元分類
- **FR-018**: 系統必須允許使用者為每張錯題照片新增自由形式的標籤註記（無數量限制）
- **FR-019**: 系統必須保存單元和標籤內容並在照片旁顯示
- **FR-020**: 系統必須允許使用者編輯或刪除已有的單元分類和標籤
- **FR-021**: 系統必須提供按單元或標籤篩選錯題的功能
- **FR-022**: 系統必須提供響應式設計，在手機、平板、桌面裝置上都能良好運作
- **FR-023**: 系統必須能在不需要伺服器端運算的環境下運作
- **FR-024**: 系統必須在首次使用時提供簡單的使用說明或引導

### Key Entities

- **錯題照片（Mistake Photo）**: 學生上傳的題目照片，包含圖片資料、上傳時間戳記、唯一識別碼、所屬單元（一個或多個）、關聯標籤
- **單元（Unit）**: 結構化的學科分類（如：數學代數、數學幾何、物理力學），採用單層級扁平列表結構，用於系統化組織錯題
- **標籤（Tag）**: 自由形式的文字註記（如：已理解、重要、考前複習），可附加在錯題照片上，用於靈活標記和篩選

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 使用者能在3次點擊內完成一張錯題照片的上傳
- **SC-002**: 照片上傳後在2秒內顯示在錯題列表中
- **SC-003**: 系統能夠儲存至少100張錯題照片而不影響效能
- **SC-004**: 網站在手機、平板、桌面裝置上都能正常使用，介面自動適應螢幕大小
- **SC-005**: 使用者在離線狀態下仍能瀏覽所有已上傳的錯題照片
- **SC-006**: 首次使用的學生能在1分鐘內理解如何上傳第一張錯題照片
- **SC-007**: 所有文字介面都使用繁體中文，無英文混雜（除專有名詞）
- **SC-008**: 網站可以成功部署到靜態網站託管服務並正常運作
- **SC-009**: 錯題照片的大圖顯示載入時間不超過1秒
- **SC-010**: 90%的使用者能夠成功完成上傳、瀏覽、刪除錯題的完整流程

### Assumptions

- 使用者的瀏覽器支援現代網頁標準（HTML5、CSS3、JavaScript ES6+）
- 使用者的裝置有相機功能（手機/平板）或能夠存取照片檔案（電腦）
- 單一使用者的錯題照片數量不會超過數百張（基於瀏覽器儲存空間限制）
- 使用者理解所有資料儲存在本地瀏覽器，清除瀏覽器資料會導致錯題遺失
- 由於是靜態網站，不同裝置間的資料不會自動同步
- 使用者主要使用場景是個人學習記錄，不需要多人協作功能
- 照片內容為題目照片，不涉及個人隱私資料的雲端儲存
- 使用者網路環境穩定足以完成照片上傳（首次載入後可離線使用）
- 不需要使用者帳號系統或登入機制（基於簡單設計原則）
- 照片格式為常見的圖片格式（JPG、PNG），不需支援特殊格式

## Clarifications

### Session 2025-11-17

- Q: 單元和標籤是否為同一功能？ → A: B - 單元和標籤是分開的功能。單元：結構化分類（如：數學→代數）；標籤：自由形式的標記
- Q: 單元分類的層級結構如何設計？ → A: B - 單層級分類。單元是扁平列表（如："數學代數"、"數學幾何"），介面更簡單
- Q: 每張錯題照片可以屬於多少個單元？ → A: B - 每題可以屬於多個單元。支援多選，提供更靈活的分類
- Q: 每張錯題照片可以添加多少個標籤？ → A: B - 每題無限制標籤數量。提供最大靈活性
